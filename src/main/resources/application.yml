app:
  max-active-users: 5 # 예매 페이지에 동시 진입 가능한 최대 사용자 수
  access-key-ttl-minutes: 1 # 예매 페이지 접근 키의 유효시간 (단위: 분)

spring:
  application:
    name: ticketmon-go
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}  # 환경 변수 'SPRING_PROFILES_ACTIVE' 값(.env) 사용, 없으면 'dev'를 기본값으로 설정
    # 로컬 개발 시 'dev' 프로필이 기본으로 활성화됩니다. 배포 시에도 변경 X -> .env에서 SPRING_PROFILES_ACTIVE를 prod로 변경
    include: supabase # 'supabase' 관련 빈(StorageUploader, StorageClient)을 활성화된 프로필과 함께 로드
  config:
    import: optional:application-${spring.profiles.active}.yml # 활성화된 프로필에 맞는 추가 설정 파일 로드

  autoconfigure:
    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration  # 임시로 DB 자동 설정 제외 (설정이 없을 경우 에러 방지)
    # 실제 DB 사용 시엔 위 라인 제거. 현재는 데이터소스 수동 설정을 의미

  jackson:
    time-zone: Asia/Seoul  # [기본 설정] 한국 사용자 대상이므로 KST 기준으로 기본 직렬화 설정함
    # 추후 글로벌 확장 시 UTC 또는 타임존 동적 처리로 대체 가능

  servlet:
    multipart:
      max-file-size: 11MB  # 단일 파일 최대 크기
      max-request-size: 11MB # 요청 전체의 최대 크기 (일반적으로 동일하게 설정)

server:
  port: ${SERVER_PORT:8080}  # .env에서 설정한 포트 사용, 기본은 8080

logging:
  level:
    root: ${LOG_LEVEL:INFO}  # 로그 레벨 설정 (INFO / WARN / ERROR)

toss:
  api:
    url: https://api.tosspayments.com/v1/payments/ # 토스페이먼츠 API의 기본 경로
    confirm-url: ${toss.api.url}confirm # 결제 승인 API 엔드포인트 (${toss.api.url} 재사용)

ai:
  summary:
    condition:
      min-review-count: 10
      significant-count-change: 3
      significant-count-change-ratio: 0.2
      update-on-any-content-change: true
      max-update-interval-hours: 168